{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":119},"end":{"line":8,"column":29,"index":135}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"../iap","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":11,"index":149},"end":{"line":10,"column":28,"index":166}}],"key":"yhRXyyWjhjdA20BPUPEBvUcdgMQ=","exportNames":["*"],"imports":1}},{"name":"./withIAPContext","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":22,"index":191},"end":{"line":12,"column":49,"index":218}}],"key":"yXcw9GtqcEvVOweHHD2MHqqDdl0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useIAP = useIAP;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _iap = require(_dependencyMap[1], \"../iap\");\n  var _withIAPContext = require(_dependencyMap[2], \"./withIAPContext\");\n  function useIAP() {\n    const {\n      connected,\n      products,\n      promotedProductsIOS,\n      subscriptions,\n      purchaseHistories,\n      availablePurchases,\n      currentPurchase,\n      currentPurchaseError,\n      initConnectionError,\n      setProducts,\n      setSubscriptions,\n      setAvailablePurchases,\n      setPurchaseHistories,\n      setCurrentPurchase,\n      setCurrentPurchaseError\n    } = (0, _withIAPContext.useIAPContext)();\n    const getProducts = (0, _react.useCallback)(async skus => {\n      setProducts(await (0, _iap.getProducts)(skus));\n    }, [setProducts]);\n    const getSubscriptions = (0, _react.useCallback)(async skus => {\n      setSubscriptions(await (0, _iap.getSubscriptions)(skus));\n    }, [setSubscriptions]);\n    const getAvailablePurchases = (0, _react.useCallback)(async () => {\n      setAvailablePurchases(await (0, _iap.getAvailablePurchases)());\n    }, [setAvailablePurchases]);\n    const getPurchaseHistories = (0, _react.useCallback)(async () => {\n      setPurchaseHistories(await (0, _iap.getPurchaseHistory)());\n    }, [setPurchaseHistories]);\n    const finishTransaction = (0, _react.useCallback)(async (purchase, isConsumable, developerPayloadAndroid) => {\n      try {\n        return await (0, _iap.finishTransaction)(purchase, isConsumable, developerPayloadAndroid);\n      } catch (err) {\n        throw err;\n      } finally {\n        if (purchase.productId === (currentPurchase === null || currentPurchase === void 0 ? void 0 : currentPurchase.productId)) {\n          setCurrentPurchase(undefined);\n        }\n        if (purchase.productId === (currentPurchaseError === null || currentPurchaseError === void 0 ? void 0 : currentPurchaseError.productId)) {\n          setCurrentPurchaseError(undefined);\n        }\n      }\n    }, [currentPurchase === null || currentPurchase === void 0 ? void 0 : currentPurchase.productId, currentPurchaseError === null || currentPurchaseError === void 0 ? void 0 : currentPurchaseError.productId, setCurrentPurchase, setCurrentPurchaseError]);\n    return {\n      connected,\n      products,\n      promotedProductsIOS,\n      subscriptions,\n      purchaseHistories,\n      availablePurchases,\n      currentPurchase,\n      currentPurchaseError,\n      initConnectionError,\n      finishTransaction,\n      getProducts,\n      getSubscriptions,\n      getAvailablePurchases,\n      getPurchaseHistories,\n      requestPurchase: _iap.requestPurchase,\n      requestSubscription: _iap.requestSubscription\n    };\n  }\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useIAP"],[7,16,6,14],[7,19,6,17,"useIAP"],[7,25,6,23],[8,2,8,0],[8,6,8,4,"_react"],[8,12,8,10],[8,15,8,13,"require"],[8,22,8,20],[8,23,8,20,"_dependencyMap"],[8,37,8,20],[8,49,8,28],[8,50,8,29],[9,2,10,0],[9,6,10,4,"_iap"],[9,10,10,8],[9,13,10,11,"require"],[9,20,10,18],[9,21,10,18,"_dependencyMap"],[9,35,10,18],[9,48,10,27],[9,49,10,28],[10,2,12,0],[10,6,12,4,"_withIAPContext"],[10,21,12,19],[10,24,12,22,"require"],[10,31,12,29],[10,32,12,29,"_dependencyMap"],[10,46,12,29],[10,69,12,48],[10,70,12,49],[11,2,14,0],[11,11,14,9,"useIAP"],[11,17,14,15,"useIAP"],[11,18,14,15],[11,20,14,18],[12,4,15,2],[12,10,15,8],[13,6,16,4,"connected"],[13,15,16,13],[14,6,17,4,"products"],[14,14,17,12],[15,6,18,4,"promotedProductsIOS"],[15,25,18,23],[16,6,19,4,"subscriptions"],[16,19,19,17],[17,6,20,4,"purchaseHistories"],[17,23,20,21],[18,6,21,4,"availablePurchases"],[18,24,21,22],[19,6,22,4,"currentPurchase"],[19,21,22,19],[20,6,23,4,"currentPurchaseError"],[20,26,23,24],[21,6,24,4,"initConnectionError"],[21,25,24,23],[22,6,25,4,"setProducts"],[22,17,25,15],[23,6,26,4,"setSubscriptions"],[23,22,26,20],[24,6,27,4,"setAvailablePurchases"],[24,27,27,25],[25,6,28,4,"setPurchaseHistories"],[25,26,28,24],[26,6,29,4,"setCurrentPurchase"],[26,24,29,22],[27,6,30,4,"setCurrentPurchaseError"],[28,4,31,2],[28,5,31,3],[28,8,31,6],[28,9,31,7],[28,10,31,8],[28,12,31,10,"_withIAPContext"],[28,27,31,25],[28,28,31,26,"useIAPContext"],[28,41,31,39],[28,43,31,41],[28,44,31,42],[29,4,32,2],[29,10,32,8,"getProducts"],[29,21,32,19],[29,24,32,22],[29,25,32,23],[29,26,32,24],[29,28,32,26,"_react"],[29,34,32,32],[29,35,32,33,"useCallback"],[29,46,32,44],[29,48,32,46],[29,54,32,52,"skus"],[29,58,32,56],[29,62,32,60],[30,6,33,4,"setProducts"],[30,17,33,15],[30,18,33,16],[30,24,33,22],[30,25,33,23],[30,26,33,24],[30,28,33,26,"_iap"],[30,32,33,30],[30,33,33,31,"getProducts"],[30,44,33,42],[30,46,33,44,"skus"],[30,50,33,48],[30,51,33,49],[30,52,33,50],[31,4,34,2],[31,5,34,3],[31,7,34,5],[31,8,34,6,"setProducts"],[31,19,34,17],[31,20,34,18],[31,21,34,19],[32,4,35,2],[32,10,35,8,"getSubscriptions"],[32,26,35,24],[32,29,35,27],[32,30,35,28],[32,31,35,29],[32,33,35,31,"_react"],[32,39,35,37],[32,40,35,38,"useCallback"],[32,51,35,49],[32,53,35,51],[32,59,35,57,"skus"],[32,63,35,61],[32,67,35,65],[33,6,36,4,"setSubscriptions"],[33,22,36,20],[33,23,36,21],[33,29,36,27],[33,30,36,28],[33,31,36,29],[33,33,36,31,"_iap"],[33,37,36,35],[33,38,36,36,"getSubscriptions"],[33,54,36,52],[33,56,36,54,"skus"],[33,60,36,58],[33,61,36,59],[33,62,36,60],[34,4,37,2],[34,5,37,3],[34,7,37,5],[34,8,37,6,"setSubscriptions"],[34,24,37,22],[34,25,37,23],[34,26,37,24],[35,4,38,2],[35,10,38,8,"getAvailablePurchases"],[35,31,38,29],[35,34,38,32],[35,35,38,33],[35,36,38,34],[35,38,38,36,"_react"],[35,44,38,42],[35,45,38,43,"useCallback"],[35,56,38,54],[35,58,38,56],[35,70,38,68],[36,6,39,4,"setAvailablePurchases"],[36,27,39,25],[36,28,39,26],[36,34,39,32],[36,35,39,33],[36,36,39,34],[36,38,39,36,"_iap"],[36,42,39,40],[36,43,39,41,"getAvailablePurchases"],[36,64,39,62],[36,66,39,64],[36,67,39,65],[36,68,39,66],[37,4,40,2],[37,5,40,3],[37,7,40,5],[37,8,40,6,"setAvailablePurchases"],[37,29,40,27],[37,30,40,28],[37,31,40,29],[38,4,41,2],[38,10,41,8,"getPurchaseHistories"],[38,30,41,28],[38,33,41,31],[38,34,41,32],[38,35,41,33],[38,37,41,35,"_react"],[38,43,41,41],[38,44,41,42,"useCallback"],[38,55,41,53],[38,57,41,55],[38,69,41,67],[39,6,42,4,"setPurchaseHistories"],[39,26,42,24],[39,27,42,25],[39,33,42,31],[39,34,42,32],[39,35,42,33],[39,37,42,35,"_iap"],[39,41,42,39],[39,42,42,40,"getPurchaseHistory"],[39,60,42,58],[39,62,42,60],[39,63,42,61],[39,64,42,62],[40,4,43,2],[40,5,43,3],[40,7,43,5],[40,8,43,6,"setPurchaseHistories"],[40,28,43,26],[40,29,43,27],[40,30,43,28],[41,4,44,2],[41,10,44,8,"finishTransaction"],[41,27,44,25],[41,30,44,28],[41,31,44,29],[41,32,44,30],[41,34,44,32,"_react"],[41,40,44,38],[41,41,44,39,"useCallback"],[41,52,44,50],[41,54,44,52],[41,61,44,59,"purchase"],[41,69,44,67],[41,71,44,69,"isConsumable"],[41,83,44,81],[41,85,44,83,"developerPayloadAndroid"],[41,108,44,106],[41,113,44,111],[42,6,45,4],[42,10,45,8],[43,8,46,6],[43,15,46,13],[43,21,46,19],[43,22,46,20],[43,23,46,21],[43,25,46,23,"_iap"],[43,29,46,27],[43,30,46,28,"finishTransaction"],[43,47,46,45],[43,49,46,47,"purchase"],[43,57,46,55],[43,59,46,57,"isConsumable"],[43,71,46,69],[43,73,46,71,"developerPayloadAndroid"],[43,96,46,94],[43,97,46,95],[44,6,47,4],[44,7,47,5],[44,8,47,6],[44,15,47,13,"err"],[44,18,47,16],[44,20,47,18],[45,8,48,6],[45,14,48,12,"err"],[45,17,48,15],[46,6,49,4],[46,7,49,5],[46,16,49,14],[47,8,50,6],[47,12,50,10,"purchase"],[47,20,50,18],[47,21,50,19,"productId"],[47,30,50,28],[47,36,50,34,"currentPurchase"],[47,51,50,49],[47,56,50,54],[47,60,50,58],[47,64,50,62,"currentPurchase"],[47,79,50,77],[47,84,50,82],[47,89,50,87],[47,90,50,88],[47,93,50,91],[47,98,50,96],[47,99,50,97],[47,102,50,100,"currentPurchase"],[47,117,50,115],[47,118,50,116,"productId"],[47,127,50,125],[47,128,50,126],[47,130,50,128],[48,10,51,8,"setCurrentPurchase"],[48,28,51,26],[48,29,51,27,"undefined"],[48,38,51,36],[48,39,51,37],[49,8,52,6],[50,8,54,6],[50,12,54,10,"purchase"],[50,20,54,18],[50,21,54,19,"productId"],[50,30,54,28],[50,36,54,34,"currentPurchaseError"],[50,56,54,54],[50,61,54,59],[50,65,54,63],[50,69,54,67,"currentPurchaseError"],[50,89,54,87],[50,94,54,92],[50,99,54,97],[50,100,54,98],[50,103,54,101],[50,108,54,106],[50,109,54,107],[50,112,54,110,"currentPurchaseError"],[50,132,54,130],[50,133,54,131,"productId"],[50,142,54,140],[50,143,54,141],[50,145,54,143],[51,10,55,8,"setCurrentPurchaseError"],[51,33,55,31],[51,34,55,32,"undefined"],[51,43,55,41],[51,44,55,42],[52,8,56,6],[53,6,57,4],[54,4,58,2],[54,5,58,3],[54,7,58,5],[54,8,58,6,"currentPurchase"],[54,23,58,21],[54,28,58,26],[54,32,58,30],[54,36,58,34,"currentPurchase"],[54,51,58,49],[54,56,58,54],[54,61,58,59],[54,62,58,60],[54,65,58,63],[54,70,58,68],[54,71,58,69],[54,74,58,72,"currentPurchase"],[54,89,58,87],[54,90,58,88,"productId"],[54,99,58,97],[54,101,58,99,"currentPurchaseError"],[54,121,58,119],[54,126,58,124],[54,130,58,128],[54,134,58,132,"currentPurchaseError"],[54,154,58,152],[54,159,58,157],[54,164,58,162],[54,165,58,163],[54,168,58,166],[54,173,58,171],[54,174,58,172],[54,177,58,175,"currentPurchaseError"],[54,197,58,195],[54,198,58,196,"productId"],[54,207,58,205],[54,209,58,207,"setCurrentPurchase"],[54,227,58,225],[54,229,58,227,"setCurrentPurchaseError"],[54,252,58,250],[54,253,58,251],[54,254,58,252],[55,4,59,2],[55,11,59,9],[56,6,60,4,"connected"],[56,15,60,13],[57,6,61,4,"products"],[57,14,61,12],[58,6,62,4,"promotedProductsIOS"],[58,25,62,23],[59,6,63,4,"subscriptions"],[59,19,63,17],[60,6,64,4,"purchaseHistories"],[60,23,64,21],[61,6,65,4,"availablePurchases"],[61,24,65,22],[62,6,66,4,"currentPurchase"],[62,21,66,19],[63,6,67,4,"currentPurchaseError"],[63,26,67,24],[64,6,68,4,"initConnectionError"],[64,25,68,23],[65,6,69,4,"finishTransaction"],[65,23,69,21],[66,6,70,4,"getProducts"],[66,17,70,15],[67,6,71,4,"getSubscriptions"],[67,22,71,20],[68,6,72,4,"getAvailablePurchases"],[68,27,72,25],[69,6,73,4,"getPurchaseHistories"],[69,26,73,24],[70,6,74,4,"requestPurchase"],[70,21,74,19],[70,23,74,21,"_iap"],[70,27,74,25],[70,28,74,26,"requestPurchase"],[70,43,74,41],[71,6,75,4,"requestSubscription"],[71,25,75,23],[71,27,75,25,"_iap"],[71,31,75,29],[71,32,75,30,"requestSubscription"],[72,4,76,2],[72,5,76,3],[73,2,77,0],[74,0,77,1],[74,3]],"functionMap":{"names":["<global>","useIAP","<anonymous>"],"mappings":"AAA;ACa;8CCkB;GDE;mDCC;GDE;wDCC;GDE;uDCC;GDE;oDCC;GDc;CDmB"},"hasCjsExports":true},"type":"js/module"}]}