{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":36,"index":86}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"expo-status-bar","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":87},"end":{"line":3,"column":44,"index":131}}],"key":"tlkgvZrxUMG8C7vDDJbsBGIlvhs=","exportNames":["*"],"imports":1}},{"name":"react-native-safe-area-context","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":132},"end":{"line":4,"column":66,"index":198}}],"key":"XjdTKvCUWX6CbQzg5fSDHG/WgHk=","exportNames":["*"],"imports":1}},{"name":"../store/useStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":199},"end":{"line":5,"column":45,"index":244}}],"key":"ASBgiPI21VzTbw57ZrWjZ5L1SH8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":286},"end":{"line":12,"column":35,"index":455}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _expoStatusBar = require(_dependencyMap[2], \"expo-status-bar\");\n  var _reactNativeSafeAreaContext = require(_dependencyMap[3], \"react-native-safe-area-context\");\n  var _storeUseStore = require(_dependencyMap[4], \"../store/useStore\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _servicesNotifications = require(_dependencyMap[6], \"../services/notifications\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function RootLayout() {\n    const {\n      loadUser,\n      user\n    } = (0, _storeUseStore.useStore)();\n    const notificationListener = (0, _react.useRef)();\n    const responseListener = (0, _react.useRef)();\n    (0, _react.useEffect)(() => {\n      loadUser();\n\n      // Setup notifications (only on device, not web)\n      if (Platform.default.OS !== 'web') {\n        setupNotifications();\n      }\n      return () => {\n        if (notificationListener.current && typeof notificationListener.current.remove === 'function') {\n          notificationListener.current.remove();\n        }\n        if (responseListener.current && typeof responseListener.current.remove === 'function') {\n          responseListener.current.remove();\n        }\n      };\n    }, []);\n    const setupNotifications = async () => {\n      try {\n        // Register for push notifications\n        const token = await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n        console.log('Push notification token:', token);\n\n        // Schedule daily mood reminder\n        await (0, _servicesNotifications.scheduleMoodReminder)();\n\n        // Listen for incoming notifications\n        notificationListener.current = (0, _servicesNotifications.addNotificationListener)(notification => {\n          console.log('Notification received:', notification);\n        });\n\n        // Listen for notification responses (when user taps)\n        responseListener.current = (0, _servicesNotifications.addNotificationResponseListener)(response => {\n          console.log('Notification tapped:', response);\n          // Handle navigation based on notification type\n          const data = response.notification.request.content.data;\n          // Can navigate to specific screens based on data.type\n        });\n      } catch (error) {\n        console.log('Notification setup error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeSafeAreaContext.SafeAreaProvider, {\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoStatusBar.StatusBar, {\n        style: \"light\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n        screenOptions: {\n          headerShown: false,\n          contentStyle: {\n            backgroundColor: '#1a1a2e'\n          },\n          animation: 'slide_from_right'\n        },\n        children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n          name: \"index\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n          name: \"(tabs)\",\n          options: {\n            headerShown: false\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n          name: \"settings\",\n          options: {\n            presentation: 'modal'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":127,"map":[[13,2,15,15,"Object"],[13,8,15,15],[13,9,15,15,"defineProperty"],[13,23,15,15],[13,24,15,15,"exports"],[13,31,15,15],[14,4,15,15,"enumerable"],[14,14,15,15],[15,4,15,15,"get"],[15,7,15,15],[15,18,15,15,"get"],[15,19,15,15],[16,6,15,15],[16,13,15,15,"RootLayout"],[16,23,15,15],[17,4,15,15],[18,2,15,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,2,0],[20,6,2,0,"_expoRouter"],[20,17,2,0],[20,20,2,0,"require"],[20,27,2,0],[20,28,2,0,"_dependencyMap"],[20,42,2,0],[21,2,3,0],[21,6,3,0,"_expoStatusBar"],[21,20,3,0],[21,23,3,0,"require"],[21,30,3,0],[21,31,3,0,"_dependencyMap"],[21,45,3,0],[22,2,4,0],[22,6,4,0,"_reactNativeSafeAreaContext"],[22,33,4,0],[22,36,4,0,"require"],[22,43,4,0],[22,44,4,0,"_dependencyMap"],[22,58,4,0],[23,2,5,0],[23,6,5,0,"_storeUseStore"],[23,20,5,0],[23,23,5,0,"require"],[23,30,5,0],[23,31,5,0,"_dependencyMap"],[23,45,5,0],[24,2,5,45],[24,6,5,45,"_reactNativeWebDistExportsPlatform"],[24,40,5,45],[24,43,5,45,"require"],[24,50,5,45],[24,51,5,45,"_dependencyMap"],[24,65,5,45],[25,2,5,45],[25,6,5,45,"Platform"],[25,14,5,45],[25,17,5,45,"_interopDefault"],[25,32,5,45],[25,33,5,45,"_reactNativeWebDistExportsPlatform"],[25,67,5,45],[26,2,7,0],[26,6,7,0,"_servicesNotifications"],[26,28,7,0],[26,31,7,0,"require"],[26,38,7,0],[26,39,7,0,"_dependencyMap"],[26,53,7,0],[27,2,12,35],[27,6,12,35,"_reactJsxDevRuntime"],[27,25,12,35],[27,28,12,35,"require"],[27,35,12,35],[27,36,12,35,"_dependencyMap"],[27,50,12,35],[28,2,15,15],[28,11,15,24,"RootLayout"],[28,21,15,34,"RootLayout"],[28,22,15,34],[28,24,15,37],[29,4,16,2],[29,10,16,8],[30,6,16,10,"loadUser"],[30,14,16,18],[31,6,16,20,"user"],[32,4,16,25],[32,5,16,26],[32,8,16,29],[32,12,16,29,"useStore"],[32,26,16,37],[32,27,16,37,"useStore"],[32,35,16,37],[32,37,16,38],[32,38,16,39],[33,4,17,2],[33,10,17,8,"notificationListener"],[33,30,17,28],[33,33,17,31],[33,37,17,31,"useRef"],[33,43,17,37],[33,44,17,37,"useRef"],[33,50,17,37],[33,52,17,43],[33,53,17,44],[34,4,18,2],[34,10,18,8,"responseListener"],[34,26,18,24],[34,29,18,27],[34,33,18,27,"useRef"],[34,39,18,33],[34,40,18,33,"useRef"],[34,46,18,33],[34,48,18,39],[34,49,18,40],[35,4,20,2],[35,8,20,2,"useEffect"],[35,14,20,11],[35,15,20,11,"useEffect"],[35,24,20,11],[35,26,20,12],[35,32,20,18],[36,6,21,4,"loadUser"],[36,14,21,12],[36,15,21,13],[36,16,21,14],[38,6,23,4],[39,6,24,4],[39,10,24,8,"Platform"],[39,18,24,16],[39,19,24,16,"default"],[39,26,24,16],[39,27,24,17,"OS"],[39,29,24,19],[39,34,24,24],[39,39,24,29],[39,41,24,31],[40,8,25,6,"setupNotifications"],[40,26,25,24],[40,27,25,25],[40,28,25,26],[41,6,26,4],[42,6,28,4],[42,13,28,11],[42,19,28,17],[43,8,29,6],[43,12,29,10,"notificationListener"],[43,32,29,30],[43,33,29,31,"current"],[43,40,29,38],[43,44,29,42],[43,51,29,49,"notificationListener"],[43,71,29,69],[43,72,29,70,"current"],[43,79,29,77],[43,80,29,78,"remove"],[43,86,29,84],[43,91,29,89],[43,101,29,99],[43,103,29,101],[44,10,30,8,"notificationListener"],[44,30,30,28],[44,31,30,29,"current"],[44,38,30,36],[44,39,30,37,"remove"],[44,45,30,43],[44,46,30,44],[44,47,30,45],[45,8,31,6],[46,8,32,6],[46,12,32,10,"responseListener"],[46,28,32,26],[46,29,32,27,"current"],[46,36,32,34],[46,40,32,38],[46,47,32,45,"responseListener"],[46,63,32,61],[46,64,32,62,"current"],[46,71,32,69],[46,72,32,70,"remove"],[46,78,32,76],[46,83,32,81],[46,93,32,91],[46,95,32,93],[47,10,33,8,"responseListener"],[47,26,33,24],[47,27,33,25,"current"],[47,34,33,32],[47,35,33,33,"remove"],[47,41,33,39],[47,42,33,40],[47,43,33,41],[48,8,34,6],[49,6,35,4],[49,7,35,5],[50,4,36,2],[50,5,36,3],[50,7,36,5],[50,9,36,7],[50,10,36,8],[51,4,38,2],[51,10,38,8,"setupNotifications"],[51,28,38,26],[51,31,38,29],[51,37,38,29,"setupNotifications"],[51,38,38,29],[51,43,38,41],[52,6,39,4],[52,10,39,8],[53,8,40,6],[54,8,41,6],[54,14,41,12,"token"],[54,19,41,17],[54,22,41,20],[54,28,41,26],[54,32,41,26,"registerForPushNotificationsAsync"],[54,54,41,59],[54,55,41,59,"registerForPushNotificationsAsync"],[54,88,41,59],[54,90,41,60],[54,91,41,61],[55,8,42,6,"console"],[55,15,42,13],[55,16,42,14,"log"],[55,19,42,17],[55,20,42,18],[55,46,42,44],[55,48,42,46,"token"],[55,53,42,51],[55,54,42,52],[57,8,44,6],[58,8,45,6],[58,14,45,12],[58,18,45,12,"scheduleMoodReminder"],[58,40,45,32],[58,41,45,32,"scheduleMoodReminder"],[58,61,45,32],[58,63,45,33],[58,64,45,34],[60,8,47,6],[61,8,48,6,"notificationListener"],[61,28,48,26],[61,29,48,27,"current"],[61,36,48,34],[61,39,48,37],[61,43,48,37,"addNotificationListener"],[61,65,48,60],[61,66,48,60,"addNotificationListener"],[61,89,48,60],[61,91,48,61,"notification"],[61,103,48,73],[61,107,48,77],[62,10,49,8,"console"],[62,17,49,15],[62,18,49,16,"log"],[62,21,49,19],[62,22,49,20],[62,46,49,44],[62,48,49,46,"notification"],[62,60,49,58],[62,61,49,59],[63,8,50,6],[63,9,50,7],[63,10,50,8],[65,8,52,6],[66,8,53,6,"responseListener"],[66,24,53,22],[66,25,53,23,"current"],[66,32,53,30],[66,35,53,33],[66,39,53,33,"addNotificationResponseListener"],[66,61,53,64],[66,62,53,64,"addNotificationResponseListener"],[66,93,53,64],[66,95,53,65,"response"],[66,103,53,73],[66,107,53,77],[67,10,54,8,"console"],[67,17,54,15],[67,18,54,16,"log"],[67,21,54,19],[67,22,54,20],[67,44,54,42],[67,46,54,44,"response"],[67,54,54,52],[67,55,54,53],[68,10,55,8],[69,10,56,8],[69,16,56,14,"data"],[69,20,56,18],[69,23,56,21,"response"],[69,31,56,29],[69,32,56,30,"notification"],[69,44,56,42],[69,45,56,43,"request"],[69,52,56,50],[69,53,56,51,"content"],[69,60,56,58],[69,61,56,59,"data"],[69,65,56,63],[70,10,57,8],[71,8,58,6],[71,9,58,7],[71,10,58,8],[72,6,59,4],[72,7,59,5],[72,8,59,6],[72,15,59,13,"error"],[72,20,59,18],[72,22,59,20],[73,8,60,6,"console"],[73,15,60,13],[73,16,60,14,"log"],[73,19,60,17],[73,20,60,18],[73,47,60,45],[73,49,60,47,"error"],[73,54,60,52],[73,55,60,53],[74,6,61,4],[75,4,62,2],[75,5,62,3],[76,4,64,2],[76,24,65,4],[76,28,65,4,"_reactJsxDevRuntime"],[76,47,65,4],[76,48,65,4,"jsxDEV"],[76,54,65,4],[76,56,65,5,"_reactNativeSafeAreaContext"],[76,83,65,21],[76,84,65,21,"SafeAreaProvider"],[76,100,65,21],[77,6,65,21,"children"],[77,14,65,21],[77,30,66,6],[77,34,66,6,"_reactJsxDevRuntime"],[77,53,66,6],[77,54,66,6,"jsxDEV"],[77,60,66,6],[77,62,66,7,"_expoStatusBar"],[77,76,66,16],[77,77,66,16,"StatusBar"],[77,86,66,16],[78,8,66,17,"style"],[78,13,66,22],[78,15,66,23],[79,6,66,30],[80,8,66,30,"fileName"],[80,16,66,30],[80,18,66,30,"_jsxFileName"],[80,30,66,30],[81,8,66,30,"lineNumber"],[81,18,66,30],[82,8,66,30,"columnNumber"],[82,20,66,30],[83,6,66,30],[83,13,66,32],[83,14,66,33],[83,29,67,6],[83,33,67,6,"_reactJsxDevRuntime"],[83,52,67,6],[83,53,67,6,"jsxDEV"],[83,59,67,6],[83,61,67,7,"_expoRouter"],[83,72,67,12],[83,73,67,12,"Stack"],[83,78,67,12],[84,8,68,8,"screenOptions"],[84,21,68,21],[84,23,68,23],[85,10,69,10,"headerShown"],[85,21,69,21],[85,23,69,23],[85,28,69,28],[86,10,70,10,"contentStyle"],[86,22,70,22],[86,24,70,24],[87,12,70,26,"backgroundColor"],[87,27,70,41],[87,29,70,43],[88,10,70,53],[88,11,70,54],[89,10,71,10,"animation"],[89,19,71,19],[89,21,71,21],[90,8,72,8],[90,9,72,10],[91,8,72,10,"children"],[91,16,72,10],[91,32,74,8],[91,36,74,8,"_reactJsxDevRuntime"],[91,55,74,8],[91,56,74,8,"jsxDEV"],[91,62,74,8],[91,64,74,9,"_expoRouter"],[91,75,74,14],[91,76,74,14,"Stack"],[91,81,74,14],[91,82,74,15,"Screen"],[91,88,74,21],[92,10,74,22,"name"],[92,14,74,26],[92,16,74,27],[93,8,74,34],[94,10,74,34,"fileName"],[94,18,74,34],[94,20,74,34,"_jsxFileName"],[94,32,74,34],[95,10,74,34,"lineNumber"],[95,20,74,34],[96,10,74,34,"columnNumber"],[96,22,74,34],[97,8,74,34],[97,15,74,36],[97,16,74,37],[97,31,75,8],[97,35,75,8,"_reactJsxDevRuntime"],[97,54,75,8],[97,55,75,8,"jsxDEV"],[97,61,75,8],[97,63,75,9,"_expoRouter"],[97,74,75,14],[97,75,75,14,"Stack"],[97,80,75,14],[97,81,75,15,"Screen"],[97,87,75,21],[98,10,75,22,"name"],[98,14,75,26],[98,16,75,27],[98,24,75,35],[99,10,75,36,"options"],[99,17,75,43],[99,19,75,45],[100,12,75,47,"headerShown"],[100,23,75,58],[100,25,75,60],[101,10,75,66],[102,8,75,68],[103,10,75,68,"fileName"],[103,18,75,68],[103,20,75,68,"_jsxFileName"],[103,32,75,68],[104,10,75,68,"lineNumber"],[104,20,75,68],[105,10,75,68,"columnNumber"],[105,22,75,68],[106,8,75,68],[106,15,75,70],[106,16,75,71],[106,31,76,8],[106,35,76,8,"_reactJsxDevRuntime"],[106,54,76,8],[106,55,76,8,"jsxDEV"],[106,61,76,8],[106,63,76,9,"_expoRouter"],[106,74,76,14],[106,75,76,14,"Stack"],[106,80,76,14],[106,81,76,15,"Screen"],[106,87,76,21],[107,10,76,22,"name"],[107,14,76,26],[107,16,76,27],[107,26,76,37],[108,10,76,38,"options"],[108,17,76,45],[108,19,76,47],[109,12,76,49,"presentation"],[109,24,76,61],[109,26,76,63],[110,10,76,71],[111,8,76,73],[112,10,76,73,"fileName"],[112,18,76,73],[112,20,76,73,"_jsxFileName"],[112,32,76,73],[113,10,76,73,"lineNumber"],[113,20,76,73],[114,10,76,73,"columnNumber"],[114,22,76,73],[115,8,76,73],[115,15,76,75],[115,16,76,76],[116,6,76,76],[117,8,76,76,"fileName"],[117,16,76,76],[117,18,76,76,"_jsxFileName"],[117,30,76,76],[118,8,76,76,"lineNumber"],[118,18,76,76],[119,8,76,76,"columnNumber"],[119,20,76,76],[120,6,76,76],[120,13,77,13],[120,14,77,14],[121,4,77,14],[122,6,77,14,"fileName"],[122,14,77,14],[122,16,77,14,"_jsxFileName"],[122,28,77,14],[123,6,77,14,"lineNumber"],[123,16,77,14],[124,6,77,14,"columnNumber"],[124,18,77,14],[125,4,77,14],[125,11,78,22],[125,12,78,23],[126,2,80,0],[127,0,80,1],[127,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","<anonymous>","setupNotifications","addNotificationListener$argument_0","addNotificationResponseListener$argument_0"],"mappings":"AAA;eCc;YCK;WCQ;KDO;GDC;6BGE;6DCU;ODE;iEEG;OFK;GHI;CDkB"},"hasCjsExports":false},"type":"js/module"}]}