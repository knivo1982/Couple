{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../iap","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":296,"index":333}}],"key":"0fvNEqQvClk6ZXWivQzp6LvILhk=","exportNames":["*"],"imports":1}},{"name":"./withIAPContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":334},"end":{"line":3,"column":49,"index":383}}],"key":"LssmHDL4oL2YQ+E/vTgGarBRNIA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useIAP = useIAP;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _iap = require(_dependencyMap[1], \"../iap\");\n  var _withIAPContext = require(_dependencyMap[2], \"./withIAPContext\");\n  function useIAP() {\n    const {\n      connected,\n      products,\n      promotedProductsIOS,\n      subscriptions,\n      purchaseHistories,\n      availablePurchases,\n      currentPurchase,\n      currentPurchaseError,\n      initConnectionError,\n      setProducts,\n      setSubscriptions,\n      setAvailablePurchases,\n      setPurchaseHistories,\n      setCurrentPurchase,\n      setCurrentPurchaseError\n    } = (0, _withIAPContext.useIAPContext)();\n    const getProducts = (0, _react.useCallback)(async skus => {\n      setProducts(await (0, _iap.getProducts)(skus));\n    }, [setProducts]);\n    const getSubscriptions = (0, _react.useCallback)(async skus => {\n      setSubscriptions(await (0, _iap.getSubscriptions)(skus));\n    }, [setSubscriptions]);\n    const getAvailablePurchases = (0, _react.useCallback)(async () => {\n      setAvailablePurchases(await (0, _iap.getAvailablePurchases)());\n    }, [setAvailablePurchases]);\n    const getPurchaseHistories = (0, _react.useCallback)(async () => {\n      setPurchaseHistories(await (0, _iap.getPurchaseHistory)());\n    }, [setPurchaseHistories]);\n    const finishTransaction = (0, _react.useCallback)(async (purchase, isConsumable, developerPayloadAndroid) => {\n      try {\n        return await (0, _iap.finishTransaction)(purchase, isConsumable, developerPayloadAndroid);\n      } catch (err) {\n        throw err;\n      } finally {\n        if (purchase.productId === (currentPurchase === null || currentPurchase === void 0 ? void 0 : currentPurchase.productId)) {\n          setCurrentPurchase(undefined);\n        }\n        if (purchase.productId === (currentPurchaseError === null || currentPurchaseError === void 0 ? void 0 : currentPurchaseError.productId)) {\n          setCurrentPurchaseError(undefined);\n        }\n      }\n    }, [currentPurchase === null || currentPurchase === void 0 ? void 0 : currentPurchase.productId, currentPurchaseError === null || currentPurchaseError === void 0 ? void 0 : currentPurchaseError.productId, setCurrentPurchase, setCurrentPurchaseError]);\n    return {\n      connected,\n      products,\n      promotedProductsIOS,\n      subscriptions,\n      purchaseHistories,\n      availablePurchases,\n      currentPurchase,\n      currentPurchaseError,\n      initConnectionError,\n      finishTransaction,\n      getProducts,\n      getSubscriptions,\n      getAvailablePurchases,\n      getPurchaseHistories,\n      requestPurchase: _iap.requestPurchase,\n      requestSubscription: _iap.requestSubscription\n    };\n  }\n});","lineCount":74,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"useIAP"],[7,16,4,0],[7,19,4,0,"useIAP"],[7,25,4,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_iap"],[9,10,2,0],[9,13,2,0,"require"],[9,20,2,0],[9,21,2,0,"_dependencyMap"],[9,35,2,0],[10,2,3,0],[10,6,3,0,"_withIAPContext"],[10,21,3,0],[10,24,3,0,"require"],[10,31,3,0],[10,32,3,0,"_dependencyMap"],[10,46,3,0],[11,2,4,7],[11,11,4,16,"useIAP"],[11,17,4,22,"useIAP"],[11,18,4,22],[11,20,4,25],[12,4,5,2],[12,10,5,8],[13,6,6,4,"connected"],[13,15,6,13],[14,6,7,4,"products"],[14,14,7,12],[15,6,8,4,"promotedProductsIOS"],[15,25,8,23],[16,6,9,4,"subscriptions"],[16,19,9,17],[17,6,10,4,"purchaseHistories"],[17,23,10,21],[18,6,11,4,"availablePurchases"],[18,24,11,22],[19,6,12,4,"currentPurchase"],[19,21,12,19],[20,6,13,4,"currentPurchaseError"],[20,26,13,24],[21,6,14,4,"initConnectionError"],[21,25,14,23],[22,6,15,4,"setProducts"],[22,17,15,15],[23,6,16,4,"setSubscriptions"],[23,22,16,20],[24,6,17,4,"setAvailablePurchases"],[24,27,17,25],[25,6,18,4,"setPurchaseHistories"],[25,26,18,24],[26,6,19,4,"setCurrentPurchase"],[26,24,19,22],[27,6,20,4,"setCurrentPurchaseError"],[28,4,21,2],[28,5,21,3],[28,8,21,6],[28,12,21,6,"useIAPContext"],[28,27,21,19],[28,28,21,19,"useIAPContext"],[28,41,21,19],[28,43,21,20],[28,44,21,21],[29,4,22,2],[29,10,22,8,"getProducts"],[29,21,22,19],[29,24,22,22],[29,28,22,22,"useCallback"],[29,34,22,33],[29,35,22,33,"useCallback"],[29,46,22,33],[29,48,22,34],[29,54,22,40,"skus"],[29,58,22,44],[29,62,22,48],[30,6,23,4,"setProducts"],[30,17,23,15],[30,18,23,16],[30,24,23,22],[30,28,23,22,"iapGetProducts"],[30,32,23,36],[30,33,23,36,"getProducts"],[30,44,23,36],[30,46,23,37,"skus"],[30,50,23,41],[30,51,23,42],[30,52,23,43],[31,4,24,2],[31,5,24,3],[31,7,24,5],[31,8,24,6,"setProducts"],[31,19,24,17],[31,20,24,18],[31,21,24,19],[32,4,25,2],[32,10,25,8,"getSubscriptions"],[32,26,25,24],[32,29,25,27],[32,33,25,27,"useCallback"],[32,39,25,38],[32,40,25,38,"useCallback"],[32,51,25,38],[32,53,25,39],[32,59,25,45,"skus"],[32,63,25,49],[32,67,25,53],[33,6,26,4,"setSubscriptions"],[33,22,26,20],[33,23,26,21],[33,29,26,27],[33,33,26,27,"iapGetSubscriptions"],[33,37,26,46],[33,38,26,46,"getSubscriptions"],[33,54,26,46],[33,56,26,47,"skus"],[33,60,26,51],[33,61,26,52],[33,62,26,53],[34,4,27,2],[34,5,27,3],[34,7,27,5],[34,8,27,6,"setSubscriptions"],[34,24,27,22],[34,25,27,23],[34,26,27,24],[35,4,28,2],[35,10,28,8,"getAvailablePurchases"],[35,31,28,29],[35,34,28,32],[35,38,28,32,"useCallback"],[35,44,28,43],[35,45,28,43,"useCallback"],[35,56,28,43],[35,58,28,44],[35,70,28,56],[36,6,29,4,"setAvailablePurchases"],[36,27,29,25],[36,28,29,26],[36,34,29,32],[36,38,29,32,"iapGetAvailablePurchases"],[36,42,29,56],[36,43,29,56,"getAvailablePurchases"],[36,64,29,56],[36,66,29,57],[36,67,29,58],[36,68,29,59],[37,4,30,2],[37,5,30,3],[37,7,30,5],[37,8,30,6,"setAvailablePurchases"],[37,29,30,27],[37,30,30,28],[37,31,30,29],[38,4,31,2],[38,10,31,8,"getPurchaseHistories"],[38,30,31,28],[38,33,31,31],[38,37,31,31,"useCallback"],[38,43,31,42],[38,44,31,42,"useCallback"],[38,55,31,42],[38,57,31,43],[38,69,31,55],[39,6,32,4,"setPurchaseHistories"],[39,26,32,24],[39,27,32,25],[39,33,32,31],[39,37,32,31,"getPurchaseHistory"],[39,41,32,49],[39,42,32,49,"getPurchaseHistory"],[39,60,32,49],[39,62,32,50],[39,63,32,51],[39,64,32,52],[40,4,33,2],[40,5,33,3],[40,7,33,5],[40,8,33,6,"setPurchaseHistories"],[40,28,33,26],[40,29,33,27],[40,30,33,28],[41,4,34,2],[41,10,34,8,"finishTransaction"],[41,27,34,25],[41,30,34,28],[41,34,34,28,"useCallback"],[41,40,34,39],[41,41,34,39,"useCallback"],[41,52,34,39],[41,54,34,40],[41,61,34,47,"purchase"],[41,69,34,55],[41,71,34,57,"isConsumable"],[41,83,34,69],[41,85,34,71,"developerPayloadAndroid"],[41,108,34,94],[41,113,34,99],[42,6,35,4],[42,10,35,8],[43,8,36,6],[43,15,36,13],[43,21,36,19],[43,25,36,19,"iapFinishTransaction"],[43,29,36,39],[43,30,36,39,"finishTransaction"],[43,47,36,39],[43,49,36,40,"purchase"],[43,57,36,48],[43,59,36,50,"isConsumable"],[43,71,36,62],[43,73,36,64,"developerPayloadAndroid"],[43,96,36,87],[43,97,36,88],[44,6,37,4],[44,7,37,5],[44,8,37,6],[44,15,37,13,"err"],[44,18,37,16],[44,20,37,18],[45,8,38,6],[45,14,38,12,"err"],[45,17,38,15],[46,6,39,4],[46,7,39,5],[46,16,39,14],[47,8,40,6],[47,12,40,10,"purchase"],[47,20,40,18],[47,21,40,19,"productId"],[47,30,40,28],[47,36,40,34,"currentPurchase"],[47,51,40,49],[47,56,40,54],[47,60,40,58],[47,64,40,62,"currentPurchase"],[47,79,40,77],[47,84,40,82],[47,89,40,87],[47,90,40,88],[47,93,40,91],[47,98,40,96],[47,99,40,97],[47,102,40,100,"currentPurchase"],[47,117,40,115],[47,118,40,116,"productId"],[47,127,40,125],[47,128,40,126],[47,130,40,128],[48,10,41,8,"setCurrentPurchase"],[48,28,41,26],[48,29,41,27,"undefined"],[48,38,41,36],[48,39,41,37],[49,8,42,6],[50,8,44,6],[50,12,44,10,"purchase"],[50,20,44,18],[50,21,44,19,"productId"],[50,30,44,28],[50,36,44,34,"currentPurchaseError"],[50,56,44,54],[50,61,44,59],[50,65,44,63],[50,69,44,67,"currentPurchaseError"],[50,89,44,87],[50,94,44,92],[50,99,44,97],[50,100,44,98],[50,103,44,101],[50,108,44,106],[50,109,44,107],[50,112,44,110,"currentPurchaseError"],[50,132,44,130],[50,133,44,131,"productId"],[50,142,44,140],[50,143,44,141],[50,145,44,143],[51,10,45,8,"setCurrentPurchaseError"],[51,33,45,31],[51,34,45,32,"undefined"],[51,43,45,41],[51,44,45,42],[52,8,46,6],[53,6,47,4],[54,4,48,2],[54,5,48,3],[54,7,48,5],[54,8,48,6,"currentPurchase"],[54,23,48,21],[54,28,48,26],[54,32,48,30],[54,36,48,34,"currentPurchase"],[54,51,48,49],[54,56,48,54],[54,61,48,59],[54,62,48,60],[54,65,48,63],[54,70,48,68],[54,71,48,69],[54,74,48,72,"currentPurchase"],[54,89,48,87],[54,90,48,88,"productId"],[54,99,48,97],[54,101,48,99,"currentPurchaseError"],[54,121,48,119],[54,126,48,124],[54,130,48,128],[54,134,48,132,"currentPurchaseError"],[54,154,48,152],[54,159,48,157],[54,164,48,162],[54,165,48,163],[54,168,48,166],[54,173,48,171],[54,174,48,172],[54,177,48,175,"currentPurchaseError"],[54,197,48,195],[54,198,48,196,"productId"],[54,207,48,205],[54,209,48,207,"setCurrentPurchase"],[54,227,48,225],[54,229,48,227,"setCurrentPurchaseError"],[54,252,48,250],[54,253,48,251],[54,254,48,252],[55,4,49,2],[55,11,49,9],[56,6,50,4,"connected"],[56,15,50,13],[57,6,51,4,"products"],[57,14,51,12],[58,6,52,4,"promotedProductsIOS"],[58,25,52,23],[59,6,53,4,"subscriptions"],[59,19,53,17],[60,6,54,4,"purchaseHistories"],[60,23,54,21],[61,6,55,4,"availablePurchases"],[61,24,55,22],[62,6,56,4,"currentPurchase"],[62,21,56,19],[63,6,57,4,"currentPurchaseError"],[63,26,57,24],[64,6,58,4,"initConnectionError"],[64,25,58,23],[65,6,59,4,"finishTransaction"],[65,23,59,21],[66,6,60,4,"getProducts"],[66,17,60,15],[67,6,61,4,"getSubscriptions"],[67,22,61,20],[68,6,62,4,"getAvailablePurchases"],[68,27,62,25],[69,6,63,4,"getPurchaseHistories"],[69,26,63,24],[70,6,64,4,"requestPurchase"],[70,21,64,19],[70,23,64,21,"iapRequestPurchase"],[70,27,64,39],[70,28,64,39,"requestPurchase"],[70,43,64,39],[71,6,65,4,"requestSubscription"],[71,25,65,23],[71,27,65,25,"iapRequestSubscription"],[71,31,65,47],[71,32,65,47,"requestSubscription"],[72,4,66,2],[72,5,66,3],[73,2,67,0],[74,0,67,1],[74,3]],"functionMap":{"names":["<global>","useIAP","getProducts","getSubscriptions","getAvailablePurchases","getPurchaseHistories","finishTransaction"],"mappings":"AAA;OCG;kCCkB;GDE;uCEC;GFE;4CGC;GHE;2CIC;GJE;wCKC;GLc;CDmB"},"hasCjsExports":false},"type":"js/module"}]}